<div class="card task">
  <div class="text-end p-2">
    <span class="text-secondary">{{ task.date }}</span>
  </div>
  <div class="card-body pt-0">
    <h5 class="card-title text-primary text-center">
      {{ task.title }}
    </h5>
    <div *ngIf="task.people.length; else notPersons">
      <strong>Personas asociadas:</strong>
      <ng-container *ngFor="let person of task.people">
        <ul>
          <li>
            {{ person.name }} ({{ person.age }})
            <div>
              <span>
                Habilidades:
                <ng-container
                  *ngFor="let skill of person.skills; let lastItem = last"
                >
                  {{ skill }}<ng-container *ngIf="!lastItem">,</ng-container>
                </ng-container>
              </span>
            </div>
          </li>
        </ul>
      </ng-container>
    </div>
  </div>
  <div class="card-footer d-flex justify-content-end">
    <div class="form-check">
      <input
        #checkComplete
        class="form-check-input"
        type="checkbox"
        value=""
        id="checkComplete-{{ id }}"
        [formControl]="checkControl"
        (change)="onToggleComplete()"
      />
      <label class="form-check-label" for="checkComplete-{{ id }}">
        Completada
      </label>
    </div>
  </div>
</div>
<ng-template #notPersons>
  <span>No hay personas vinculadas a esta tarea.</span>
</ng-template>
